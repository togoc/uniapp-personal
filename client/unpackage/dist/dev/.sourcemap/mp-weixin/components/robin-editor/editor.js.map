{"version":3,"sources":["webpack:///C:/Users/togoc/Desktop/personal/client/components/robin-editor/editor.vue?7310","webpack:///C:/Users/togoc/Desktop/personal/client/components/robin-editor/editor.vue?fb93","webpack:///C:/Users/togoc/Desktop/personal/client/components/robin-editor/editor.vue?3c43","webpack:///C:/Users/togoc/Desktop/personal/client/components/robin-editor/editor.vue?f62f","webpack:///C:/Users/togoc/Desktop/personal/client/components/robin-editor/editor.vue","webpack:///C:/Users/togoc/Desktop/personal/client/components/robin-editor/editor.vue?3478","webpack:///C:/Users/togoc/Desktop/personal/client/components/robin-editor/editor.vue?b8e6"],"names":["components","colorPicker","uniPopup","topbar","props","html","type","String","imageUploader","Function","muiltImage","Boolean","default","compressImage","previewMode","tools","Array","data","show","readOnly","formats","fontColor","bgColor","color","colorPickerName","showColor","fontSizeRange","showPreview","htmlData","title","mounted","previewData","computed","labelConfirm","labelCancel","methods","setTitle","value","openColor","e","name","currentTarget","dataset","$refs","popup","open","colorPop","colorPopClose","close","colorChanged","label","_format","readOnlyChange","onEditorReady","uni","createSelectorQuery","in","select","context","res","editorCtx","setContents","exec","undo","toast","redo","format","target","showToast","duration","icon","onStatusChange","detail","insertDivider","success","clear","removeFormat","insertDate","date","Date","formatDate","getFullYear","getMonth","getDate","insertText","text","insertImage","params","count","sizeType","chooseImage","tempFilePaths","map","path","url","src","alt","fail","console","error","fontSize","index","fz","cancel","$emit","save","getContents","replace","preview"],"mappings":"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","file":"components/robin-editor/editor.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./editor.vue?vue&type=template&id=5810d8bf&scoped=true&\"\nvar renderjs\nimport script from \"./editor.vue?vue&type=script&lang=js&\"\nexport * from \"./editor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./editor.vue?vue&type=style&index=0&id=5810d8bf&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5810d8bf\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('5810d8bf')) {\n      api.createRecord('5810d8bf', component.options)\n    } else {\n      api.reload('5810d8bf', component.options)\n    }\n    module.hot.accept(\"./editor.vue?vue&type=template&id=5810d8bf&scoped=true&\", function () {\n      api.rerender('5810d8bf', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/togoc/Desktop/personal/client/components/robin-editor/editor.vue\"\nexport default component.exports","export * from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./editor.vue?vue&type=template&id=5810d8bf&scoped=true&\"","var components = {\n  \"uni-popup\": () =>\n    import(/* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\")\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./editor.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nimport colorPicker from \"@/components/colorPicker.vue\";\r\nimport uniPopup from \"@/components/uni-popup/uni-popup.vue\";\r\nimport topbar from \"./header.vue\";\r\nexport default {\r\n    components: {\r\n        colorPicker,\r\n        uniPopup,\r\n        topbar\r\n    },\r\n    props: {\r\n        html: {\r\n            type: String\r\n        },\r\n        imageUploader: {\r\n            type: Function\r\n        },\r\n        muiltImage: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        compressImage: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        previewMode: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        tools: {\r\n            type: Array,\r\n            default: function() {\r\n                return [\r\n                    \"bold\",\r\n                    \"italic\",\r\n                    \"underline\",\r\n                    \"strike\",\r\n                    \"align-left\",\r\n                    \"align-center\",\r\n                    \"align-right\",\r\n                    \"list-bullet\",\r\n                    \"list-ordered\",\r\n                    \"color\",\r\n                    \"backgroundColor\",\r\n                    \"clear\",\r\n                    \"preview\",\r\n                    \"image\",\r\n                    \"h1\",\r\n                    \"h2\",\r\n                    \"h3\"\r\n                ];\r\n            }\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            show: true,\r\n            readOnly: false,\r\n            formats: {},\r\n            fontColor: \"#000000\",\r\n            bgColor: \"\",\r\n            color: \"\",\r\n            colorPickerName: \"\",\r\n            showColor: false,\r\n            fontSizeRange: [10, 12, 14, 16, 18, 24, 32],\r\n            showPreview: false,\r\n            htmlData: \"\",\r\n            title: \" \"\r\n        };\r\n    },\r\n    mounted: function() {\r\n        if (this.previewMode) {\r\n            this.previewData(this.html);\r\n        }\r\n    },\r\n    computed: {\r\n        labelConfirm: function() {\r\n            return this.showPreview ? \"关闭\" : \"保存\";\r\n        },\r\n        labelCancel: function() {\r\n            return this.showPreview ? \"\" : \"取消\";\r\n        }\r\n    },\r\n    methods: {\r\n        setTitle(value) {\r\n            this.title = value;\r\n        },\r\n        openColor(e) {\r\n            var name = e.currentTarget.dataset.name;\r\n            var color = this.formats[name];\r\n            this.colorPickerName = name;\r\n            if (name == \"backgroundColor\" && !color) {\r\n                color = \"#FFFFFF\";\r\n            }\r\n            if (name == \"color\" && !color) {\r\n                color = \"#000000\";\r\n            }\r\n            this.color = color;\r\n            this.$refs.popup.open({\r\n                type: \"bottom\"\r\n            });\r\n        },\r\n        colorPop(e) {\r\n            this.showColor = e.show;\r\n        },\r\n        colorPopClose() {\r\n            this.$refs.popup.close();\r\n        },\r\n        colorChanged(e) {\r\n            let label = \"\";\r\n            switch (this.colorPickerName) {\r\n                case \"backgroundColor\":\r\n                    if (e.color == \"#FFFFFF\") {\r\n                        e.color = \"\";\r\n                    }\r\n                    this.bgColor = e.color;\r\n                    label = \"背景色\";\r\n                    break;\r\n                case \"color\":\r\n                    this.fontColor = e.color;\r\n                    label = \"颜色\";\r\n                    break;\r\n            }\r\n            this.colorPopClose();\r\n            this._format(this.colorPickerName, e.color, label + e.color);\r\n        },\r\n        readOnlyChange() {\r\n            this.readOnly = !this.readOnly;\r\n        },\r\n        onEditorReady() {\r\n            uni.createSelectorQuery()\r\n                .in(this)\r\n                .select(\"#editor\")\r\n                .context(res => {\r\n                    this.editorCtx = res.context;\r\n                    if (this.html) {\r\n                        this.editorCtx.setContents({\r\n                            html: this.html\r\n                        });\r\n                    }\r\n                })\r\n                .exec();\r\n        },\r\n        undo() {\r\n            this.editorCtx.undo();\r\n            this.toast(\"撤销\");\r\n        },\r\n        redo() {\r\n            this.editorCtx.redo();\r\n            this.toast(\"重做\");\r\n        },\r\n        format(e) {\r\n            let { name, value, label } = e.target.dataset;\r\n            if (!name) return;\r\n            this._format(name, value, label);\r\n        },\r\n        _format(name, value, label) {\r\n            this.editorCtx.format(name, value);\r\n            this.toast(label);\r\n        },\r\n        toast(label) {\r\n            uni.showToast({\r\n                duration: 600,\r\n                icon: \"none\",\r\n                title: label\r\n            });\r\n        },\r\n        onStatusChange(e) {\r\n            const formats = e.detail;\r\n            this.formats = formats;\r\n        },\r\n        insertDivider() {\r\n            this.editorCtx.insertDivider({\r\n                success: function() {\r\n                    this.toast(\"插入分割线\");\r\n                }\r\n            });\r\n        },\r\n        clear() {\r\n            this.editorCtx.clear({\r\n                success: res => {\r\n                    this.toast(\"清空\");\r\n                }\r\n            });\r\n        },\r\n        removeFormat() {\r\n            this.editorCtx.removeFormat();\r\n            this.toast(\"清除格式\");\r\n        },\r\n        insertDate() {\r\n            const date = new Date();\r\n            const formatDate = `${date.getFullYear()}/${date.getMonth() +\r\n                1}/${date.getDate()}`;\r\n            this.editorCtx.insertText({\r\n                text: formatDate\r\n            });\r\n            this.toast(\"插入日期\");\r\n        },\r\n        insertImage() {\r\n            let params = {};\r\n            params.count = this.muiltImage ? 9 : 1;\r\n            params.sizeType = this.compressImage\r\n                ? [\"compressed\"]\r\n                : [\"original\"];\r\n            uni.chooseImage({\r\n                ...params,\r\n                success: res => {\r\n                    res.tempFilePaths.map(path => {\r\n                        this.imageUploader(path, url => {\r\n                            this.editorCtx.insertImage({\r\n                                src: url,\r\n                                alt: \"图片\",\r\n                                fail() {\r\n                                    console.error(\"图片插入失败:\" + url);\r\n                                }\r\n                            });\r\n                        });\r\n                    });\r\n                }\r\n            });\r\n        },\r\n        fontSize(e) {\r\n            const index = e.detail.value;\r\n            const fz = this.fontSizeRange[index] + \"px\";\r\n            this._format(\"fontSize\", fz, \"字体大小:\" + fz);\r\n        },\r\n        cancel() {\r\n            this.$emit(\"cancel\");\r\n        },\r\n        save() {\r\n            if (this.showPreview) {\r\n                if (this.previewMode) {\r\n                    this.cancel();\r\n                } else {\r\n                    this.showPreview = false;\r\n                }\r\n            } else {\r\n                this.editorCtx.getContents({\r\n                    success: res => {\r\n                        this.$emit(\"save\", { ...res, title: this.title });\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        previewData: function(html) {\r\n            this.htmlData = html.replace(\r\n                /\\<img/gi,\r\n                '<img style=\"max-width:50%;height:auto\"'\r\n            );\r\n            this.showPreview = true;\r\n        },\r\n        preview: function() {\r\n            this.editorCtx.getContents({\r\n                success: res => {\r\n                    this.previewData(res.html);\r\n                }\r\n            });\r\n        }\r\n    }\r\n};\r\n","import mod from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./editor.vue?vue&type=style&index=0&id=5810d8bf&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./editor.vue?vue&type=style&index=0&id=5810d8bf&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}