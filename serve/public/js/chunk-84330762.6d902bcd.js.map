{"version":3,"sources":["webpack:///./src/views/BlogAdd.vue?a924","webpack:///./src/views/BlogAdd.vue?c9f4","webpack:///src/views/BlogAdd.vue","webpack:///./src/views/BlogAdd.vue?2949","webpack:///./src/views/BlogAdd.vue","webpack:///./node_modules/core-js/modules/es.array.index-of.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","stopPropagation","$router","go","_v","directives","name","rawName","value","blog","expression","attrs","domProps","target","composing","$set","type","handleSave","dialogFormVisible","_s","hideTips","ref","imageFilter","imgAdd","imgDel","handleChange","model","callback","$$v","_l","tag","key","handleClose","handleInputConfirm","nativeOn","indexOf","_k","keyCode","inputValue","showInput","item","label","handlePublic","staticRenderFns","data","message","component","$","$indexOf","arrayMethodIsStrict","arrayMethodUsesToLength","nativeIndexOf","NEGATIVE_ZERO","STRICT_METHOD","USES_TO_LENGTH","ACCESSORS","1","proto","forced","searchElement","apply","arguments","length","undefined"],"mappings":"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","file":"js/chunk-84330762.6d902bcd.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlogAdd.vue?vue&type=style&index=0&id=16706d3b&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlogAdd.vue?vue&type=style&index=0&id=16706d3b&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"blog-add\"},[_c('div',{staticClass:\"title-nav\"},[_c('button',{staticClass:\"back\",on:{\"click\":function($event){$event.stopPropagation();return _vm.$router.go(-1)}}},[_vm._v(\"返回\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.blog.title),expression:\"blog.title\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入标题!\"},domProps:{\"value\":(_vm.blog.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.blog, \"title\", $event.target.value)}}}),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.type === 'add'),expression:\"type === 'add'\"}],staticClass:\"save\",on:{\"click\":function($event){$event.stopPropagation();return _vm.handleSave($event)}}},[_vm._v(\" 保存草稿 \")]),_c('button',{staticClass:\"public\",on:{\"click\":function($event){$event.stopPropagation();_vm.dialogFormVisible = true}}},[_vm._v(\" \"+_vm._s(_vm.type === \"add\" ? \"发布文章\" : \"保存修改\")+\" \")])]),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showTips),expression:\"showTips\"}],staticClass:\"img-tips\"},[_vm._v(\" 图片的大小可以通过query参数w,h指定大小(imgURL?w=100&h=100) \"),_c('span',{staticClass:\"iconfont icon-xianshi_quxiaotianchong\",on:{\"click\":function($event){$event.stopPropagation();return _vm.hideTips($event)}}})]),_c('div',{staticClass:\"edit\"},[_c('mavon-editor',{ref:\"addBlogInput\",staticClass:\"edit-main\",attrs:{\"imageFilter\":_vm.imageFilter,\"codeStyle\":\"atelier-plateau-light\"},on:{\"imgAdd\":_vm.imgAdd,\"imgDel\":_vm.imgDel,\"change\":_vm.handleChange},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1),_c('el-dialog',{attrs:{\"title\":\"发布文章\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('p',[_vm._v(\" 添加标签 : \"),_vm._l((_vm.blog.articleTags),function(tag){return _c('el-tag',{key:tag,attrs:{\"closable\":\"\",\"disable-transitions\":false},on:{\"close\":function($event){return _vm.handleClose(tag)}}},[_vm._v(\" \"+_vm._s(tag)+\" \")])}),(_vm.inputVisible)?_c('el-input',{ref:\"saveTagInput\",staticClass:\"input-new-tag\",attrs:{\"size\":\"small\"},on:{\"blur\":_vm.handleInputConfirm},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleInputConfirm($event)}},model:{value:(_vm.inputValue),callback:function ($$v) {_vm.inputValue=$$v},expression:\"inputValue\"}}):_c('el-button',{staticClass:\"button-new-tag\",attrs:{\"size\":\"small\"},on:{\"click\":_vm.showInput}},[_vm._v(\"+ 添加标签\")])],2),_c('p',[_vm._v(\" 分类专栏 : \"),_c('el-select',{attrs:{\"multiple\":\"\",\"filterable\":\"\",\"allow-create\":\"\",\"default-first-option\":\"\",\"placeholder\":\"请选择分类\"},model:{value:(_vm.blog.types),callback:function ($$v) {_vm.$set(_vm.blog, \"types\", $$v)},expression:\"blog.types\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('p',[_vm._v(\" 发布形式 : \"),_c('el-checkbox',{model:{value:(_vm.blog.privated),callback:function ($$v) {_vm.$set(_vm.blog, \"privated\", $$v)},expression:\"blog.privated\"}},[_vm._v(\"私有\")])],1),_c('p',{staticClass:\"control\"},[_c('button',{staticClass:\"save cancel\",on:{\"click\":function($event){$event.stopPropagation();_vm.dialogFormVisible = false}}},[_vm._v(\" 取消 \")]),_c('button',{staticClass:\"save comfirm\",on:{\"click\":function($event){$event.stopPropagation();return _vm.handlePublic($event)}}},[_vm._v(\" 确认 \")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"blog-add\">\r\n        <div class=\"title-nav\">\r\n            <button @click.stop=\"$router.go(-1)\" class=\"back\">返回</button>\r\n            <input v-model=\"blog.title\" type=\"text\" placeholder=\"请输入标题!\" />\r\n            <button\r\n                @click.stop=\"handleSave\"\r\n                v-show=\"type === 'add'\"\r\n                class=\"save\"\r\n            >\r\n                保存草稿\r\n            </button>\r\n            <button @click.stop=\"dialogFormVisible = true\" class=\"public\">\r\n                {{ type === \"add\" ? \"发布文章\" : \"保存修改\" }}\r\n            </button>\r\n        </div>\r\n        <p class=\"img-tips\" v-show=\"showTips\">\r\n            图片的大小可以通过query参数w,h指定大小(imgURL?w=100&h=100)\r\n            <span\r\n                @click.stop=\"hideTips\"\r\n                class=\"iconfont icon-xianshi_quxiaotianchong\"\r\n            ></span>\r\n        </p>\r\n        <div class=\"edit\">\r\n            <mavon-editor\r\n                @imgAdd=\"imgAdd\"\r\n                @imgDel=\"imgDel\"\r\n                @change=\"handleChange\"\r\n                :imageFilter=\"imageFilter\"\r\n                v-model=\"value\"\r\n                codeStyle=\"atelier-plateau-light\"\r\n                class=\"edit-main\"\r\n                ref=\"addBlogInput\"\r\n            />\r\n        </div>\r\n        <el-dialog title=\"发布文章\" :visible.sync=\"dialogFormVisible\">\r\n            <p>\r\n                添加标签&emsp;:\r\n                <el-tag\r\n                    :key=\"tag\"\r\n                    v-for=\"tag in blog.articleTags\"\r\n                    closable\r\n                    :disable-transitions=\"false\"\r\n                    @close=\"handleClose(tag)\"\r\n                >\r\n                    {{ tag }}\r\n                </el-tag>\r\n                <el-input\r\n                    class=\"input-new-tag\"\r\n                    v-if=\"inputVisible\"\r\n                    v-model=\"inputValue\"\r\n                    ref=\"saveTagInput\"\r\n                    size=\"small\"\r\n                    @keyup.enter.native=\"handleInputConfirm\"\r\n                    @blur=\"handleInputConfirm\"\r\n                >\r\n                </el-input>\r\n                <el-button\r\n                    v-else\r\n                    class=\"button-new-tag\"\r\n                    size=\"small\"\r\n                    @click=\"showInput\"\r\n                    >+&emsp;添加标签</el-button\r\n                >\r\n            </p>\r\n            <p>\r\n                分类专栏&emsp;:\r\n                <el-select\r\n                    v-model=\"blog.types\"\r\n                    multiple\r\n                    filterable\r\n                    allow-create\r\n                    default-first-option\r\n                    placeholder=\"请选择分类\"\r\n                >\r\n                    <el-option\r\n                        v-for=\"item in options\"\r\n                        :key=\"item.value\"\r\n                        :label=\"item.label\"\r\n                        :value=\"item.value\"\r\n                    >\r\n                    </el-option>\r\n                </el-select>\r\n            </p>\r\n\r\n            <p>\r\n                发布形式&emsp;:\r\n                <el-checkbox v-model=\"blog.privated\">私有</el-checkbox>\r\n            </p>\r\n            <p class=\"control\">\r\n                <button\r\n                    @click.stop=\"dialogFormVisible = false\"\r\n                    class=\"save cancel\"\r\n                >\r\n                    取消\r\n                </button>\r\n                <button @click.stop=\"handlePublic\" class=\"save comfirm\">\r\n                    确认\r\n                </button>\r\n            </p>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            blog: {\r\n                privated: false,\r\n                title: \"\",\r\n                markdown: \"\",\r\n                types: [],\r\n                articleTags: [\"js\"],\r\n                html: \"\",\r\n                _id: undefined\r\n            },\r\n            tags: [] /*包含了原有图片+上传图片 的file_id与路径*/,\r\n            value: \"\",\r\n            type: \"add\",\r\n\r\n            dialogFormVisible: false,\r\n            inputVisible: false,\r\n            inputValue: \"\",\r\n\r\n            //远程分类列表\r\n            remoteTypes: [],\r\n            showTips: false\r\n        };\r\n    },\r\n    computed: {\r\n        options() {\r\n            return this.remoteTypes.map(v => {\r\n                return { value: v.name, label: v.name };\r\n            });\r\n        }\r\n    },\r\n    created() {\r\n        let { id, type } = this.$route.query;\r\n        if (id && type === \"edit\") {\r\n            this.type = \"edit\";\r\n            this.getBlogById(id);\r\n        } else {\r\n            this.value = \"\";\r\n            this.$message({\r\n                message: \"当前为发布模式!\",\r\n                type: \"success\"\r\n            });\r\n        }\r\n        //获取分类标记\r\n        this.getBlogTypes();\r\n    },\r\n    methods: {\r\n        hideTips() {\r\n            this.showTips = false;\r\n        },\r\n        async getBlogTypes() {\r\n            let remoteTypes = await this.$store.dispatch(\"getBlogTypes\");\r\n            this.remoteTypes = remoteTypes || [];\r\n        },\r\n        handleChange(markdown, html) {\r\n            this.blog.markdown = markdown;\r\n            this.blog.html = html;\r\n        },\r\n        handleSave() {\r\n            console.log(this.blog);\r\n        },\r\n        async handlePublic() {\r\n            console.log(this.blog);\r\n            let data = null;\r\n            if (this.type === \"add\") {\r\n                data = await this.$store.dispatch(\"AddBlog\", {\r\n                    context: this.blog,\r\n                    tags: this.tags\r\n                });\r\n            } else if (this.type === \"edit\") {\r\n                data = await this.$store.dispatch(\"editBlog\", {\r\n                    context: this.blog,\r\n                    tags: this.tags\r\n                });\r\n            }\r\n\r\n            if (data) {\r\n                this.$message({\r\n                    message: \"发布成功\",\r\n                    type: \"success\"\r\n                });\r\n                this.$router.replace(\"/show-blog/\" + data._id);\r\n            }\r\n        },\r\n        async getBlogById(id) {\r\n            let blog = await this.$store.dispatch(\"getBlogById\", id);\r\n            this.blog = blog;\r\n            this.value = blog.markdown;\r\n            this.tags = blog.thumbnails;\r\n        },\r\n        handleClose(tag) {\r\n            this.blog.articleTags.splice(this.blog.articleTags.indexOf(tag), 1);\r\n        },\r\n        showInput() {\r\n            this.inputVisible = true;\r\n            this.$nextTick(_ => {\r\n                this.$refs.saveTagInput.$refs.input.focus();\r\n            });\r\n        },\r\n        handleInputConfirm() {\r\n            let inputValue = this.inputValue;\r\n            if (inputValue) {\r\n                this.blog.articleTags.push(inputValue);\r\n            }\r\n            this.inputVisible = false;\r\n            this.inputValue = \"\";\r\n        },\r\n        async imgAdd(filename, file) {\r\n            let formdata = new FormData();\r\n            formdata.append(\"image\", file);\r\n            let backData = await this.$store.dispatch(\"blogAddIMG\", formdata);\r\n            this.tags.push(backData);\r\n            this.$refs.addBlogInput.$img2Url(filename, backData.src);\r\n            this.showTips = true;\r\n        },\r\n        /*图片大小过滤等 */\r\n        imageFilter(file) {\r\n            return true;\r\n        },\r\n        imgDel(filename) {\r\n            console.log(filename);\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.blog-add {\r\n    .img-tips {\r\n        color: $uni-color-warning;\r\n        text-align: center;\r\n        padding: 5px 0;\r\n        span {\r\n            color: $uni-color-error;\r\n            cursor: pointer;\r\n        }\r\n    }\r\n    button.save {\r\n        height: 36px;\r\n        width: 98px;\r\n        margin-right: 16px;\r\n        padding: 0 16px;\r\n        white-space: nowrap;\r\n        color: $uni-color-error;\r\n        border: 1px solid $uni-color-error;\r\n        outline: none;\r\n        @extend .hover-nav;\r\n    }\r\n    .control {\r\n        text-align: end;\r\n        button {\r\n            border-radius: $uni-border-radius-base;\r\n            color: #fff;\r\n            cursor: pointer;\r\n            border: 0;\r\n        }\r\n        .cancel {\r\n            background-color: $uni-color-warning;\r\n        }\r\n        .comfirm {\r\n            background-color: $uni-color-primary;\r\n        }\r\n    }\r\n\r\n    button.public {\r\n        margin-right: 16px;\r\n        padding: 0 16px;\r\n        height: 36px;\r\n        width: 98px;\r\n        background-color: $uni-color-error;\r\n        color: #fff;\r\n        outline: none;\r\n        border: 0;\r\n        @extend .hover-nav;\r\n    }\r\n    .title-nav {\r\n        height: 55px;\r\n        display: flex;\r\n        flex-direction: row;\r\n        align-items: center;\r\n        box-sizing: border-box;\r\n        padding: 0 24px;\r\n        button.back {\r\n            outline: none;\r\n            font-size: 1rem;\r\n            border: 0;\r\n            background-color: #f3f4f5;\r\n            padding: 0.5rem;\r\n            @extend .hover-nav;\r\n        }\r\n        button {\r\n            white-space: nowrap;\r\n            cursor: pointer;\r\n            border-radius: $uni-border-radius-sm;\r\n        }\r\n        input {\r\n            height: 36px;\r\n            width: 100%;\r\n            margin: 0 16px;\r\n            padding: 0 0.5rem;\r\n        }\r\n\r\n        .el-checkbox {\r\n            margin: 0 16px;\r\n        }\r\n    }\r\n    .el-dialog__body {\r\n        p {\r\n            margin-bottom: 1rem;\r\n            * {\r\n                margin-left: 5px;\r\n            }\r\n        }\r\n    }\r\n    .el-tag + .el-tag {\r\n        margin-left: 10px;\r\n    }\r\n    .button-new-tag {\r\n        margin-left: 10px;\r\n        height: 32px;\r\n        line-height: 30px;\r\n        padding-top: 0;\r\n        padding-bottom: 0;\r\n    }\r\n    .input-new-tag {\r\n        width: 90px;\r\n        margin-left: 10px;\r\n        vertical-align: middle;\r\n    }\r\n    .edit {\r\n        height: 100%;\r\n        .edit-main {\r\n            height: calc(100vh - 55px);\r\n        }\r\n    }\r\n    .el-select {\r\n        width: 50%;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlogAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlogAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BlogAdd.vue?vue&type=template&id=16706d3b&scoped=true&\"\nimport script from \"./BlogAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./BlogAdd.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BlogAdd.vue?vue&type=style&index=0&id=16706d3b&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"16706d3b\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}